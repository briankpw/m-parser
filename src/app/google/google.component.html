<!-- <div class="container"> -->

<a class="badge badge-pill btn-dark" href="/google">Google</a>
<a class="badge badge-pill btn-secondary" href="/wechat">Wechat</a>

<div>
  <div class="row padding-b10">
    <div class="input-group sm-12">
      <div class="input-group sm-12">
        Step 1: Copy & Paste the value to first row of the csv
      </div>

      <div class="input-group-prepend">
        <span class="input-group-text" id="basic-addon1">Copy</span>
      </div>
      <input
        type="text"
        class="form-control"
        aria-label="Small"
        aria-describedby="inputGroup-sizing-sm"
        value="timestamp,email,name,country,prajna,heart,mijima,medicine,note,"
      />

      <div class="input-group sm-12">
        Note (Batch 0.1): timestamp,name,country,prajna,note,email,,,,,,date,,,
        (Batch 0.2):
        date,timestamp,email,name,country,prajna,heart,mijima,note,,,
      </div>
    </div>
  </div>

  <div class="row padding-b10">
    <div class="input-group sm-12">Step 2: Upload csv file</div>

    <div class="input-group sm-12">
      <div class="input-group-prepend">
        <span class="input-group-text" id="basic-addon1">File:</span>
      </div>
      <input
        class="form-control"
        type="file"
        accept=".csv"
        (change)="fileChangeListener($event)"
      />
    </div>
  </div>

  <div class="row padding-b10">
    <div class="col-sm-12">
      <!-- <span>Data from {{ minDate }} to {{ maxDate }}</span> -->
      <span><b>Raw Data</b> ({{ rawRecords.length }} Records) {{globalDateRange}}</span>
      <ag-grid-angular
        style="width: 100%;height: 200px;"
        class="ag-theme-balham"
        [rowData]="rawRecords"
        [columnDefs]="columnDefs"
        [gridOptions]="gridOptions"
      ></ag-grid-angular>
    </div>
  </div>

  <div class="row padding-b10">
    .. (Date Range, Coming Soon...)

    <!-- <mat-date-range-input [rangePicker]="picker">
    <input matStartDate placeholder="Start date">
    <input matEndDate placeholder="End date">
  </mat-date-range-input>
  
  <mat-date-range-picker #picker></mat-date-range-picker> -->

    <div class="col-sm-12">
      <button type="button" class="btn btn-primary" (click)="parseClick()">
        Parse it
      </button>
    </div>
  </div>

  <div class="row padding-b10">
    <div class="col-sm-12">
      <span><b>Anomaly Data</b> ({{ anomalyRow.length }} Records)</span>
      <ag-grid-angular
        style="width: 100%;height: 200px;"
        class="ag-theme-balham"
        [rowData]="anomalyRow"
        [columnDefs]="anomalyColumnDefs"
        [gridOptions]="gridOptions"
      ></ag-grid-angular>
      <button
        type="button"
        class="btn btn-warning"
        (click)="downloadClick('anomalyRow', true)"
      >
        Download
      </button>
    </div>

    <div class="col-sm-12">
      <span><b>Overload Data</b> ({{ overloadRow.length }} Records)</span>
      <ag-grid-angular
        style="width: 100%;height: 200px;"
        class="ag-theme-balham"
        [rowData]="overloadRow"
        [columnDefs]="anomalyColumnDefs"
        [gridOptions]="gridOptions"
      ></ag-grid-angular>
      <button
        type="button"
        class="btn btn-warning"
        (click)="downloadClick('overloadRow,true')"
      >
        Download
      </button>
    </div>
  </div>

  <br />

  <div class="row padding-b10">
    <div class="col-sm-12">
      <span><b>Parsed Data</b> ({{ meritRow.length }} Records)</span>
      <ag-grid-angular
        style="width: 100%;height: 200px;"
        class="ag-theme-balham"
        [rowData]="meritRow"
        [columnDefs]="meritColumnDefs"
        [gridOptions]="gridOptions"
      ></ag-grid-angular>
    </div>
    <div class="col-sm-12">
      <button
        type="button"
        class="btn btn-success"
        (click)="downloadClick('meritRow')"
      >
        Download
      </button>
    </div>
  </div>

  <div class="row padding-b10">
    <div class="col-sm-12">
      <span><b>User Data</b> ({{ userRow.length }} Records)</span>
      <ag-grid-angular
        style="width: 100%;height: 200px;"
        class="ag-theme-balham"
        [rowData]="userRow"
        [columnDefs]="userColumnDefs"
        [gridOptions]="gridOptions"
      ></ag-grid-angular>
    </div>
    <div class="col-sm-12">
      <button
        type="button"
        class="btn btn-success"
        (click)="downloadClick('userRow', false, true)"
      >
        Download
      </button>
    </div>
  </div>
</div>
